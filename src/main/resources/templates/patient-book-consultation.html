<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">

 <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../../bootstrap/bootstrap-4.0.0-dist/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="../../bootstrap/bootstrap-4.0.0-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">   

	<link rel="stylesheet" type="text/css" media="all" 	href="../../css/general.css" th:href="@{/css/general.css}" />
	<link rel="stylesheet" type="text/css" media="all" 	href="../../css/manage.css" th:href="@{/css/manage.css}" />
	<link rel="stylesheet" type="text/css" media="all" 	href="../../css/home.css" th:href="@{/css/home.css}" />
	<link rel="stylesheet" type="text/css" media="all" 	href="../../css/table-design.css" th:href="@{/css/table-design.css}" />
	<link rel="stylesheet" type="text/css" media="all" 	href="../../css/card.css" th:href="@{/css/card.css}" />
	
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />

	
	<link th:href="@{~/css_new/bootstrap.css}" type="text/css" rel="stylesheet" media="all">
    <link rel="stylesheet" type="text/css" th:href="@{~/css_new/style11.css}" /><!-- menu style sheet -->
    <link th:href="@{~/css_new/style.css}" type="text/css" rel="stylesheet" media="all">
     <link th:href="@{~/css_new/font-awesome.css}" rel="stylesheet" type="text/css" media="all" />
     <link href="http://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    
	

<title>HOME DOCTOR</title>
</head>
<body id="allbody">
  <header th:insert="fragments/patient.html :: header"> </header> 

     <!--  <nav id="nav2" class="navbar  navbar-default navbar-expand-lg navbar-light bg-info">
      <div class="container-fluid">
    
    <div class="collapse navbar-collapse" id="homenavbar2">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
       
         <li class="nav-item">
        <a class="nav-link" aria-current="page" href="../../doctors/list" th:href="@{/doctors/list}" >Our Doctors</a>
        </li>
        <li class="nav-item">
        <a class="nav-link " aria-current="page" href="../../appointment/bookAvailDoctor" th:href="@{/appointment/bookAvailDoctor}">Book Consultation</a>
        </li>
        <li class="nav-item">
        <a class="nav-link " aria-current="page" href="../../consultationhistory/list" th:href="@{/consultationhistory/list}" >Consultation History</a>
        </li>
        
         
                
      </ul>
      
    </div>
  </div>
</nav> -->

<div class="container bg-white mt-sm-4 mb-5" id="mycard">
  <div class="wrapper d-flex justify-content-center flex-column px-md-5 px-1">
  
   <form id="form" action="" th:object="${appointment}"  th:action="@{/appointment/book}" method="get">
        <input type="hidden"  id="doc_id" th:field="*{doctor.doctorId}" />
        <input type="hidden" th:field="*{patient.patientId}" />
      
        <div class="h3 text-center font-weight-bold">
        	<h1  style="text-align:center">Book your appointment</h1>
        	<h1 th:text="${errmsg}" style="text-align:center"></h1>
        </div>
        
        <div class="row my-4" >
            <div class="col-md-6">
                 <label>Doctor Name </label>
                 <label class="displaylabel" th:text="${appointment.doctor.firstName}" id = "docfirstname"></label>
            </div>
            <div class="col-md-6 pt-md-0 pt-4">
                 <label>Patient Name</label> 
                 <label class="displaylabel" th:text="${appointment.patient.firstName}" id = "patfirstname"> </label>
             </div>
         </div>
          
            <div class="row my-md-4 my-2 " th:object="${appointment}">
            	<div class="col-md-6">     
                	<label>Select Date</label> 
                	<input id="datepicker" th:field="*{appointmentDate}" readonly="readonly"  width="276" />
     		 <script>
           $('#datepicker').datepicker({
        	   
              uiLibrary: 'bootstrap4',
               format: 'dd-mm-yyyy',
               minDate:new Date()
           });
      </script>	
      </div>
            	<div class="col-md-6 pt-md-0 pt-4"  id="replace_div"> 
                	<label>Select Time</label>     
                	<input name="doctorId" type="hidden" th:value="${docId}">
        			<input name="date" type="hidden" th:value="${date1}">
             
               <select class="displaylabel" name="appointmentTime">
    			<option th:each="timeOpt : ${T(sg.edu.iss.telemedicine.domain.TimeSlots).values()}" 
        			th:value="${timeOpt}" th:text="${timeOpt.displayValue}"></option>
				</select>
                
                
                </div>
        	
        	
         </div>
         
           <div class="d-flex justify-content-end" >
            		
            		<button type="submit" class="btn">Book</button>
            
         </div>  
        </form> 
</div>
</div>
 
 
  <!-- <div class="container">
        <div class="row justify-content-center  align-items-center">
            <div class="px-xl-5 py-4" id="error_msg">
                <h2 class="text-capitalize">Book your appointment</h2>
                 <h1 th:text="${errmsg}" style="text-align:center"></h1>
                         
     <form id="form" action="" th:object="${appointment}"  th:action="@{/appointment/book}" method="get">
        <input type="hidden"  id="doc_id" th:field="*{doctor.doctorId}" />
        <input type="hidden" th:field="*{patient.patientId}" />
        <input name="doctorId" type="hidden" value="${docId}">
        <input name="date" type="hidden" value="${date1}">
         <table class="center">
         <tr>
         <td> Doctor Name:</td>
             <td>
             <fieldset>
             <label th:text="${appointment.doctor.firstName}" id = "docfirstname"></label>
             </fieldset>
             </td>
          </tr>
          <tr>
          <td>Patient Name:</td>   
             
             <td>
             <fieldset>
              	<label th:text="${appointment.patient.firstName}" id = "patfirstname"></label>
             </fieldset>
             </td>
            </tr>
            <tr>
            <td>Select Date : </td>
            <td>
            <fieldset>
            <input id="datepicker" th:field="*{appointmentDate}"  width="276" />
      <script>
           $('#datepicker').datepicker({
        	   
              uiLibrary: 'bootstrap4',
               format: 'dd-mm-yyyy'
               
           });
      </script>
            
            </fieldset>
            </td>
            </tr>
            <tr>
            <td>Select Time :</td>
            
            
    <td>
              <fieldset>
              <div id="replace_div">
              <input name="doctorId" type="hidden" th:value="${docId}">
        		<input name="date" type="hidden" th:value="${date1}">
             
               <select name="appointmentTime">
    <option th:each="timeOpt : ${T(sg.edu.iss.telemedicine.domain.TimeSlots).values()}" 
        th:value="${timeOpt}" th:text="${timeOpt.displayValue}"></option>
</select>
       </div> -->
       
       <!-- JQury from Google CDN -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

        <!-- <script th:inline="javascript">
       		 
        	
        	
        	
            $(document).ready(function () {
            	
            	

                //call function when page is loaded
                /* $(".date").datepicker({
    onSelect: function(dateText) { */

                //set on change listener
                $('#datepicker').change(getContent);
                
                getContent();

                function getContent() {
                	
                	//alert($(this).val());
                	
                	var docId=document.getElementById('doc_id').value;
                	var date1=$(this).val();
                	
                	//alert(date1);
                	//alert(docId);

                    //create url to request fragment
                    var url = /appointment/;
                    //url = url + "slots/{"+docId+"}/{"+date1+"}";
                   url = url + "slots";
                    
                   $.ajax({
                       url: url,
                       type: 'GET',
                       data: {doctorId:docId,date:date1},
                       success: function(data){
                       	$('#replace_div').load(url);
                    }
                 });
                   
                    //load fragment and replace content
                   // $('#replace_div').load(url);
                }
            })
        </script>
       
       
        -->
               <!-- </fieldset>
              </td> 
              </tr>
              <tr>
       			<td></td>
       			<td><div class="col-lg-12">
                            <button type="submit" class="btn mt-3  mb-3 bg-success" tabindex="7">Book</button>
                        </div>
                </td>
                                               
               </tr>
            
  </table> 
               
               
               
                    
            </form>
            </div>
        </div>
    </div>
-->
    
    
  
<script type='text/javascript' th:src="@{~/js_new/jquery-2.2.3.min.js}"></script>
<script th:src="@{~/js_new/jquery.nicescroll.js}"></script>
<script th:src="@{~/js_new/scripts.js}"></script>
<script type='text/javascript' th:src="@{~/js_new/jquery-2.2.3.min.js}"></script>
<script th:src="@{~/js_new/jquery.nicescroll.js}"></script>
<script th:src="@{~/js_new/scripts.js}"></script>
<script th:src="@{~/js_new/SmoothScroll.min.js}"></script>
<script type="text/javascript" th:src="@{~/js_new/modernizr-2.6.2.min.js}"></script>
<script th:src="@{~/js_new/classie.js}"></script>
<script th:src="@{~/js_new/demo1.js}"></script>
<script type='text/javascript' th:src="@{~/js_new/jquery.easing.1.3.js}"></script>
<script th:src="@{~/js_new/bootstrap.js}"></script>


<br />
	 <div th:replace="fragments/general.html :: footer"></div>



</body>
</html>